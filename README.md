# Системный мониторинг

[![Go Report Card](https://goreportcard.com/badge/github.com/Haba1234/sysmon)](https://goreportcard.com/report/github.com/Haba1234/sysmon)
[![codecov](https://codecov.io/gh/Haba1234/sysmon/branch/master/graph/badge.svg)](https://codecov.io/gh/Haba1234/sysmon)
![workflow](https://github.com/Haba1234/sysmon/actions/workflows/tests.yml/badge.svg)

Демон - программа, собирающая информацию о системе, на которой запущена, и отправляющая её своим клиентам по gRPC.

## Описание
Сбор метрик системы и отправка подписанным клиентам gRPC.

При подписке клиент в запросе указывает параметры:
- N: получение данных каждые N секунд;
- M: получение усредненных данных за последние M секунд.

### Доступные метрики
- Средняя загрузка системы (load average)
- Средняя загрузка CPU (CPU average)

### Поддерживаемые ОС
- linux
- ios (darwin)

### Конфигурация демона
Через командную строку можно задать порт сервера gRPC. По умолчанию порт: 8080

Через файл конфигурации можно задать:
- какие метрики собирать
- размер буфера для каждой метрики (в секундах)

### Конфигурация клиента
Через командную строку можно задать интервал N и глубину M.
Ключи:
- n - интервал получения данных в секундах. По умолчанию 5 секунд, но не более 120 секунд
- m - глубина запрашиваемых данных в секундах. По умолчанию 10 секунд